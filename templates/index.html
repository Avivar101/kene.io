<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kene</title>
    <link rel="stylesheet" href="/static/stlye.css">
</head>
<body>
    <header>
        <nav>
            <h1><a href="/">Kene</a></h1>
            <div class="nav-links">
                <a href="/projects">Projects</a>
                <a href="/profile">Profile</a>
                <button class="email-btn" onclick="window.location.href='mailto:benjohnokezie@gmail.com'" target="blank">Send email</button>
            </div>
        </nav>
    </header>

    <main>
        {{range $year, $posts := .}}
        <h1>{{$year}}</h1>
        {{range $posts}}
        <div class="post">
            <span class="date">{{.PostedDate.Format "02 Jan"}}</span>
            <a href="/blog/{{.Slug}}?id={{.UniqueID}}" class="title">{{.Title}}</a>
        </div>
        {{end}}
        {{end}}
    </main>

    <footer>
        <p>Â© 2024 Kene. All rights reserved.</p>
    </footer>

    <script>
        // Get all navigation links
        const navLinks = document.querySelectorAll('.nav-links a');

        // Set active based on current pathname
        function setActiveLink() {
            const currentPath = window.location.pathname;
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === currentPath) {
                    link.classList.add('active');
                }
            });
        }

        // Set initial active state
        setActiveLink();

        // Update active state when the page loads and when navigation occurs
        window.addEventListener('load', setActiveLink);
        window.addEventListener('popstate', setActiveLink);

        // Add click handlers to nav links
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                navLinks.forEach(l => l.classList.remove('active'));
                e.target.classList.add('active');
            });
        });
    </script>
</body>
</html>